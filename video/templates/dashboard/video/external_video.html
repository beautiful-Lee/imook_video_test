<%inherit file="../base.html" />

<%def name="title()">
DashboardVideo
</%def>

<%def name="css()">
<link href="/static/dashboard/css/external_video.css" rel="stylesheet">
</%def>

<%def name="content()">
<%! from django.shortcuts import reverse %>
<%! from app.model.model_video import VideoType, FromType, NationalityType %>
<h1>外链视频</h1>
<button class="btn btn_info " id="open-add-video-btn">创建视频</button>
% if error:
<span>${error}</span>
% endif
<form class="form-horizontal edit-area add-video-area" id="video-edit-area" action="${reverse('external_link')}" method="POST">
    ${csrf_token}
    <div class="form-group">
        <div class="col-sm-10">
            <input type="text" class="form-control" name="name" placeholder="视频名称">
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-10">
            <input type="text" class="form-control" name="image" placeholder="封面">
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-10">
            <textarea class="form-control" name="info" placeholder="描述"></textarea>
        </div>
    </div>
    <div class="form-group ">
        <div class="col-sm-10">
            <label>视频类型: </label>
            <select class="form-control video-select" name="video_type">
                % for video_type in VideoType:
                <option value="${video_type.value}">${video_type.label}</option>
                % endfor
            </select>
        </div>
    </div>
    <div class="form-group ">
        <div class="col-sm-10">
            <label>视频来源: </label>
            <select class="form-control video-select" name="from_to">
                % for from_to in FromType:
                % if from_to.value != FromType.custom.value:
                <option value="${from_to.value}">${from_to.label}</option>
                % endif
                % endfor
            </select>
        </div>
    </div>
    <div class="form-group ">
        <div class="col-sm-10">
            <label>国籍分类: </label>
            <select class="form-control video-select" name="nationality">
                % for nationality_type in NationalityType:
                <option value="${nationality_type.value}">${nationality_type.label}</option>
                % endfor
            </select>
        </div>
    </div>
    <button class="btn btn_info open-btn">创建</button>


</form>
<table class="table">
    <thead>
    <tr>
        <th>视频名称</th>
        <th>封面链接</th>
        <th>描述</th>
        <th>状态</th>
        <th>创建时间</th>
        <th>修改时间</th>
        <th>视频类型</th>
        <th>视频来源</th>
        <th>国籍分类</th>
        <th>编辑</th>
    </tr>
    </thead>
    <tbody>
    % for v in video:
    <tr>
        <td><a href="${reverse('video_sub', kwargs={'video_id': v.id})}" >${v.name}</a></td>
        <td><img class="video-images" src="${v.image}"></td>
        <td><p class="info" >${v.info}</p></td>
        <td>${v.status}</td>
        <td>${v.create_time}</td>
        <td>${v.update_time}</td>
        <td>${VideoType(v.video_type).label}</td>
        <td>${FromType(v.from_to).label}</td>
        <td>${NationalityType(v.nationality).label}</td>
        <td><a href="" >编辑</a></td>
    </tr>
    % endfor
    </tbody>
</table>
</%def>

<%def name="js()">
<script src="/static/dashboard/js/dashboard/external_video.js"></script>
</%def>